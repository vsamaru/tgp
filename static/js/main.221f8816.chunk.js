(this["webpackJsonptelegraph-clone"]=this["webpackJsonptelegraph-clone"]||[]).push([[0],{45:function(t,e,s){},50:function(t,e,s){},51:function(t,e,s){},52:function(t,e,s){},54:function(t,e,s){},55:function(t,e,s){},57:function(t,e,s){"use strict";s.r(e);var n=s(4),i=s(0),a=s(13),o=s.n(a),d=(s(45),s(15)),r=s(18),c=(s(50),s(61)),h=s(63),l=s(6),p=(s(51),s(65)),b=s(60),j=s(62);const O="ADD_POST",u="EDIT_POST",x="DELETE_POST",m=t=>e=>{e({type:u,payload:t})};var y=s(64);s(52);class g extends i.Component{constructor(t){super(t),this.state={title:"",body:"",id:"",editing:t.editing||!1},this.handleInputChange=this.handleInputChange.bind(this),this.handleAutoExpansion=this.handleAutoExpansion.bind(this),this.handleSubmit=this.handleSubmit.bind(this)}handleInputChange(t){const e=t.target,s=e.value,n=e.name;this.setState({[n]:s})}handleSubmit(){const t=this.state,e=t.title,s=t.body,n=t.id;if(this.state.editing)this.props.handler({title:e,body:s,id:n});else{const t={title:e,body:s,id:Object(y.a)()};this.props.addPost(t),this.setState({title:"",body:""})}}handleAutoExpansion(t){t.style.height="inherit";const e=window.getComputedStyle(t),s=parseInt(e.getPropertyValue("border-top-width"),10)+parseInt(e.getPropertyValue("padding-top"),10)+t.scrollHeight+parseInt(e.getPropertyValue("padding-bottom"),10)+parseInt(e.getPropertyValue("border-bottom-width"),10);t.style.height=s+"px"}componentDidMount(){this.state.editing&&this.setState({title:this.props.post.title,body:this.props.post.body,id:this.props.post.id},(()=>{this.handleAutoExpansion(document.getElementById("text"))})),document.addEventListener("input",(t=>{"textarea"===t.target.tagName.toLowerCase()&&this.handleAutoExpansion(t.target)}),!1)}render(){const t=this.state,e=t.title,s=t.body;return Object(n.jsxs)(j.a,{className:"container",children:[Object(n.jsxs)(j.a.Group,{className:"inline-title-submit",children:[Object(n.jsx)(j.a.Control,{placeholder:"title",id:"title",name:"title",value:e,onChange:this.handleInputChange}),Object(n.jsx)(b.a,{variant:"outline-dark",id:"submit",disabled:""===this.state.title||""===this.state.body,onClick:this.handleSubmit,children:"Submit"})]}),Object(n.jsx)(j.a.Group,{children:Object(n.jsx)(j.a.Control,{as:"textarea",id:"text",name:"body",rows:"1",placeholder:"Text",value:s,onChange:this.handleInputChange})})]})}}var v=Object(d.b)((t=>({posts:t.posts.byId})),{addPost:t=>e=>{e({type:O,payload:t})},editPost:m})(g);s(54);const I=t=>Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:t.post.title}),Object(n.jsx)("p",{children:t.post.body})]});class E extends i.Component{constructor(t){super(t),this.state={edit:!1},this.handleEdit=this.handleEdit.bind(this),this.handleDelete=this.handleDelete.bind(this),this.handleConfirm=this.handleConfirm.bind(this)}handleEdit(){this.setState({edit:!0})}handleConfirm(t){this.props.editPost(t),this.setState({edit:!1})}handleDelete(t){this.props.deletePost(t)}render(){const t=this.props.post;return Object(n.jsx)(p.a,{children:Object(n.jsx)(p.a.Body,{children:this.state.edit?Object(n.jsx)(v,{post:t,handler:this.handleConfirm,editing:!0}):Object(n.jsxs)("div",{children:[Object(n.jsx)(I,{post:t}),Object(n.jsxs)("div",{className:"pull-right",children:[Object(n.jsx)(b.a,{variant:"btn-primary",onClick:this.handleEdit,children:Object(n.jsx)("i",{className:"fas fa-pen"})}),Object(n.jsx)(b.a,{variant:"btn-danger",onClick:()=>this.handleDelete(t.id),children:Object(n.jsx)("i",{className:"far fa-trash-alt"})})]})]})})})}}var C=Object(d.b)((t=>({posts:t.posts.byId})),{deletePost:t=>e=>{e({type:x,payload:t})},editPost:m})(E);s(55);class f extends i.Component{render(){const t=0!==this.props.posts.length?this.props.posts.map((t=>Object(n.jsx)(C,{post:t},t.id))):Object(n.jsx)("h1",{children:"No posts here yet."});return Object(n.jsx)("div",{className:"container posts",children:t})}}var w=Object(d.b)((t=>({posts:t.posts.byId})),null)(f);class S extends i.Component{render(){return Object(n.jsx)(r.a,{children:Object(n.jsxs)("div",{id:"navigation",children:[Object(n.jsxs)(c.a,{bg:"light",expand:"lg",children:[Object(n.jsx)(c.a.Brand,{children:Object(n.jsx)(r.b,{to:"/",children:"Telegraph"})}),Object(n.jsxs)(h.a,{className:"mr-auto",children:[Object(n.jsx)(h.a.Item,{children:Object(n.jsx)(r.b,{to:"/posts/",children:"Posts"})}),Object(n.jsx)(h.a.Item,{children:Object(n.jsx)(r.b,{to:"/",children:"Add Post"})})]})]}),Object(n.jsx)(l.a,{path:"/",exact:!0,component:v}),Object(n.jsx)(l.a,{path:"/posts/",component:w})]})})}}var P=S,_=s(16),N=s(39),D=s(19);const T={byId:[]};var k=Object(_.c)({posts:function(t=T,e){switch(e.type){case O:return Object(D.a)(Object(D.a)({},t),{},{byId:[e.payload,...t.byId]});case x:return Object(D.a)(Object(D.a)({},t),{},{byId:t.byId.filter((t=>t.id!==e.payload))});case u:return Object(D.a)(Object(D.a)({},t),{},{byId:t.byId.map((t=>t.id===e.payload.id?e.payload:t))});default:return t}}});const A=[N.a];var V=Object(_.e)(k,{},Object(_.d)(Object(_.a)(...A),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));class B extends i.Component{render(){return Object(n.jsx)(d.a,{store:V,children:Object(n.jsx)(r.a,{children:Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(P,{})})})})}}var L=B;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(n.jsx)(L,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((t=>{t.unregister()}))}},[[57,1,2]]]);
//# sourceMappingURL=main.221f8816.chunk.js.map